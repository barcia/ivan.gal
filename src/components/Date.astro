---
export interface Props {
	date: Date
}

const { date, type } = Astro.props


const nombresDias = ['Domingo', 'Luns', 'Martes', 'Mércores', 'Xoves', 'Venres', 'Sábado'];
const nombresDiasAlt = ['Domingo', 'Segunda feira', 'Terceira feira', 'Cuarta feira', 'Quinta feira', 'Sexta feira', 'Sábado'];
const nombresMeses = ['Xaneiro', 'Febreiro', 'Marzo', 'Abril', 'Maio', 'Xuño', 'Xullo', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Decembro'];

const diaSemana = date.getDay();
const dia = date.getDate();
const mes = date.getMonth();
const año = date.getFullYear();
const hora = date.getHours();
const minuto = date.getMinutes();

const diaSemanaEnGallego = nombresDias[diaSemana];
const mesEnGallego = nombresMeses[mes];

---

<time class="Datetime" datetime={date.toISOString()}>
	<span>
		{
			`${dia} ${mesEnGallego} ${año}`
		}
	</span>
	<span>
		{
		type === 'full' &&
		`${hora}:${minuto}`
		}
	</span>
</time>

<style>
	.Datetime {
        font-size: 0.9rem;
        line-height: 1.5rem;
        color: var(--text-light);
        pointer-events: none;
        flex-shrink: 0;
        display: flex;
        align-items: center;

        & span:not(:last-child)::after {
            content: '·';
            margin: 0 0.25em;
        }            
    }
</style>